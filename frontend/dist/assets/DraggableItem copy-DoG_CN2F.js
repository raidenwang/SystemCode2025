import{O as j,d as q,r as C,w as F,e as m,i as d,o as c,h as o,m as g,b4 as L,a_ as S,f as i,p as s,an as k,A as z,k as x}from"./index-BehJRYYk.js";import{d as R}from"./vuedraggable.common-DB4-q8sr.js";const W={class:"component-name"},p=j({name:"DraggableItem"}),U=Object.assign(p,{props:{element:Object,index:Number,drawingList:Array,activeId:{type:[String,Number]},formConf:Object},emits:["activeItem","copyItem","deleteItem"],setup(e,{emit:D}){const{proxy:G}=q(),a=e,r=C(""),h=C(null),u=D;function f(n){u("activeItem",n)}function y(n,t){u("copyItem",n,t??a.drawingList)}function I(n,t){u("deleteItem",n,t??a.drawingList)}function V(n){console.log(n),a.element.defaultValue=n}return F(()=>a.activeId,n=>{r.value=(a.element.layout==="rowFormItem"?"drawing-row-item":"drawing-item")+(n===a.element.formId?" active-from-item":""),a.formConf.unFocusedComponentBorder&&(r.value+=" unfocus-bordered")},{immediate:!0}),(n,t)=>{const $=m("el-form-item"),N=m("draggable-item"),A=m("el-row"),b=m("el-col"),B=m("CopyDocument"),v=m("el-icon"),O=m("Delete");return c(),d(b,{span:e.element.span,class:k(x(r)),onClick:t[4]||(t[4]=s(l=>f(e.element),["stop"]))},{default:o(()=>[e.element.layout==="colFormItem"?(c(),d($,{key:0,label:e.element.label,"label-width":e.element.labelWidth?e.element.labelWidth+"px":null,required:e.element.required},{default:o(()=>[(c(),d(L(e.element.tag),{key:e.element.tag,onInput:V,modelValue:e.element.defaultValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.element.defaultValue=l),placeholder:e.element.placeholder,type:e.element.type?e.element.type:null,style:S(e.element.style)},null,40,["modelValue","placeholder","type","style"]))]),_:1},8,["label","label-width","required"])):(c(),d(b,{key:1,span:e.element.span},{default:o(()=>[i(A,{gutter:e.element.gutter,class:k(e.element.class),onClick:t[1]||(t[1]=s(l=>f(e.element),["stop"]))},{default:o(()=>[g("span",W,z(e.element.componentName),1),i(x(R),{group:"componentsGroup",animation:340,list:e.element.children,class:"drag-wrapper","item-key":"label",ref_key:"draggableItemRef",ref:h},{item:o(l=>[(c(),d(N,{key:l.element.renderKey,"drawing-list":e.element.children,element:l.element,index:e.index,"active-id":e.activeId,"form-conf":e.formConf,onActiveItem:w=>f(l.element),onCopyItem:w=>y(l.element,e.element.children),onDeleteItem:w=>I(l.index,e.element.children)},null,8,["drawing-list","element","index","active-id","form-conf","onActiveItem","onCopyItem","onDeleteItem"]))]),_:1},8,["list"])]),_:1},8,["gutter","class"])]),_:1},8,["span"])),g("span",{class:"drawing-item-copy",title:"复制",onClick:t[2]||(t[2]=s(l=>y(e.element),["stop"]))},[i(v,null,{default:o(()=>[i(B)]),_:1})]),g("span",{class:"drawing-item-delete",title:"删除",onClick:t[3]||(t[3]=s(l=>I(e.index),["stop"]))},[i(v,null,{default:o(()=>[i(O)]),_:1})])]),_:1},8,["span","class"])}}});export{U as default};
