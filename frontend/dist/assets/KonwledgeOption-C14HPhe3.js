import{m as V}from"./mitt-DJ65BbbF.js";import{_ as q,r as u,e as o,c as m,o as p,i as z,j as D,f as t,h as n,n as O,A as _,m as s,a_ as I,t as j,v as T}from"./index-BehJRYYk.js";const f=V(),U=r=>(j("data-v-783243f5"),r=r(),T(),r),A=["data-id"],E={key:0,class:"rename-box"},M={key:1,class:"knowledge-name"},P={class:"operate-content",style:{display:"flex",flexDirection:"column"}},R=U(()=>s("span",{style:{margin:"0 10px"}},"重命名",-1)),W={class:"switch-type",style:{fontSize:"16px",marginBottom:"10px"}},$={class:"delete",style:{fontSize:"16px"}},F={__name:"KonwledgeOption",props:{width:{required:!1,type:String,defalut:"100%"},name:{required:!1,type:String,defalut:"默认知识库"},id:{required:!0,type:String},type:{required:!0,type:Number},isActive:{required:!1,type:Boolean,defalut:!1},creator:{required:!0,type:String},currentUser:{required:!0,type:Object}},setup(r){const e=r,a=u(!1),i=u(e.name),c=u(e.name);function y(){if(c.value===""){a.value=!1;return}i.value=c.value,f.emit("renameKnowledge",{id:e.id,newName:i.value,type:e.type}),a.value=!1}function v(){f.emit("removeKnowledge",{id:e.id}),console.log("传递的id是",e.id)}function g(){f.emit("switchType",{id:e.id,name:i.value,type:e.type===1?0:1})}function h(){return e.creator===e.currentUser.userName||e.currentUser.roleKey==="admin"}return(H,l)=>{const w=o("el-tag"),k=o("el-input"),x=o("Check"),d=o("el-icon"),S=o("Close"),C=o("Document"),b=o("Switch"),K=o("Delete"),N=o("el-popover");return p(),m("div",{class:"container",style:I({width:e.width,backgroundColor:e.isActive?"rgb(108,143,233)":"rgb(235,237,248)"}),"data-id":e.id},[a.value?D("",!0):(p(),z(w,{key:0,type:e.type===1?"danger":"success",class:"knowledge-type"},{default:n(()=>[O(_(e.type===1?"私有":"公开"),1)]),_:1},8,["type"])),t(N,{placement:"right",trigger:"hover","hide-after":"120","show-after":"120","popper-style":{minWidth:"145px"},disabled:a.value||!h(),offset:"60"},{reference:n(()=>[a.value?(p(),m("div",E,[t(k,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=B=>c.value=B),placeholder:"请输入知识库名字"},null,8,["modelValue"]),t(d,{class:"confirm",onClick:y,size:"26"},{default:n(()=>[t(x)]),_:1}),t(d,{class:"cancel",onClick:l[1]||(l[1]=()=>a.value=!1),size:"26"},{default:n(()=>[t(S)]),_:1})])):(p(),m("div",M,[s("span",null,_(i.value),1)]))]),default:n(()=>[s("div",P,[s("div",{class:"rename",style:{fontSize:"16px",marginBottom:"10px",cursor:"pointer",userSelect:"none"},onClick:l[2]||(l[2]=()=>{a.value=!0,c.value=i.value})},[t(d,null,{default:n(()=>[t(C)]),_:1}),R]),s("div",W,[t(d,null,{default:n(()=>[t(b)]),_:1}),s("span",{style:{margin:"0 10px",cursor:"pointer"},onClick:g},"切换为"+_(e.type===1?"公开":"私有"),1)]),s("div",$,[t(d,null,{default:n(()=>[t(K)]),_:1}),s("span",{style:{margin:"0 10px",cursor:"pointer"},onClick:v},"删除")])])]),_:1},8,["disabled"])],12,A)}}},G=q(F,[["__scopeId","data-v-783243f5"]]),Q=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{f as E,G as K,Q as a};
